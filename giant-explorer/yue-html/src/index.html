<html>

<body>


    <canvas id="mycanvas" width="400px" height="400px"></canvas>
    <script src="imgTouchCanvas.js"></script>

    <script>
        // document.write(file.fullPath())

        var callbackId = 0;
        let callbackMap = {};
        function callback(callbackId, obj) {
            callbackMap[callbackId](obj)
            delete callbackMap[callbackId]
        }
        callbackMap[callbackId + ""] = function (result) {

        }
        plugin.base64(file.fullPath(), callbackId + "")

        window.addEventListener("message", onMessage);

        function onMessage(e) {
            new ImgTouchCanvas({
                canvas: document.getElementById('mycanvas'),
                path: "data:image/png;base64," + e.data,
            });
        }
        test.onmessage = function (event) {
            console.log(event.data);
        }
        test.postMessage("hello from yue-html")

    </script>
    <script>

    </script>
</body>

</html>